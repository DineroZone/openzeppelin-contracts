Can I restrict a function to EOAs only?

It is possible to restrict a function to an EOA only by learning to differentiate it from a contract address. When calling external addresses from your contract it is unsafe to assume that an address is an externally-owned account (EOA) and not a contract.

Some criteria to discard an address as a contract address can be:

 - an externally-owned account, meaning, an address with no code
 - a contract in construction address
 - an address where a contract will be created
 - an address where a contract lived, but was destroyed

Furthermore, a contract address can still be considered a contract if the target contract within the same transaction is already scheduled for destruction by `SELFDESTRUCT`, which only has an effect at the end of a transaction.

Preventing calls from contracts is highly discouraged. It breaks composability, breaks support for smart wallets like Gnosis Safe, and does not provide security since it can be circumvented by calling from a contract constructor. 
